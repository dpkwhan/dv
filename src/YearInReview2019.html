<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <title>Spectacle</title>
    <link href="https://fonts.googleapis.com/css?family=Lobster+Two:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700" rel="stylesheet" type="text/css" />
    <link href="https://unpkg.com/normalize.css@7/normalize.css" rel="stylesheet" type="text/css" />
    <link href="https://unpkg.com/antd@3.22.0/dist/antd.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div id="root"></div>

    <!-- react -->
    <script src="https://unpkg.com/prop-types@15/prop-types.js"></script>
    <script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/react-autobind@1.0.6/lib/autoBind.js"></script>

    <!-- spectacle -->
    <script src="https://unpkg.com/@babel/standalone/babel.js"></script>
    <script src="https://unpkg.com/spectacle@^5/dist/spectacle.js"></script>
    <script src="https://unpkg.com/spectacle@^5/lib/one-page.js"></script>

    <!-- echarts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.2.1/echarts.min.js"></script>

    <!-- numeral -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>

    <!-- ant design -->
    <script src="https://unpkg.com/moment/min/moment-with-locales.js"></script>
    <script src="https://unpkg.com/antd@3.22.0/dist/antd-with-locales.min.js"></script>

    <script type="text/spectacle">
      () => {
        const { Button, Row, Col } = antd;
        const { Component } = React;
        const { Heading } = Spectacle;

        // JSON data
        const jStrMarketShareByYearExch = `{"year":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"CBOE":[0.001553126,0.001517211,0.002513032,0.001154305,0.003647843,0.004147346,0.0008273976,0,0,0,0,0],"CBOE BYX":[0,0,0.001711023,0.02233438,0.0300008,0.01965342,0.03082055,0.04085694,0.04337259,0.04873961,0.04718219,0.04041712],"CBOE BZX":[0.01712512,0.1022285,0.1006168,0.09076816,0.08849648,0.08392778,0.07803235,0.07132131,0.06491506,0.05971903,0.06462826,0.05504694],"CBOE EDGA":[0,0,0.01792306,0.03571367,0.02584397,0.02998067,0.02694379,0.02663557,0.02571326,0.01798313,0.01366565,0.02165629],"CBOE EDGX":[0,0,0.01933663,0.05888192,0.06744347,0.0762213,0.06787677,0.07230856,0.07239488,0.06396302,0.05832063,0.04473561],"IEX":[0,0,0,0,0,0,0,0,0.005370828,0.02203966,0.02449299,0.02739987],"NASDAQ":[0.2994096,0.213259,0.1878663,0.180777,0.1703731,0.1562811,0.1710157,0.1587936,0.1399825,0.1416641,0.1589994,0.1735855],"NASDAQ BX":[0,0.01697694,0.03337244,0.02149014,0.02638685,0.02462354,0.02500902,0.01971339,0.02374147,0.03118962,0.02848183,0.01955371],"NASDAQ ISE":[0.01101148,0.0188405,0.008313444,0,0,0,0,0,0,0,0,0],"NASDAQ PSX":[0.0005673296,0,0.001162175,0.01019435,0.01086213,0.006940611,0.005658153,0.009635768,0.009957686,0.007769261,0.007597216,0.007304567],"NYSE":[0.1684241,0.1407456,0.1354423,0.1322114,0.1180604,0.1163867,0.1139094,0.1268429,0.1329333,0.1311558,0.1280733,0.1334676],"NYSE American":[0.004202999,0.001779399,0.002544374,0.003592237,0.00228655,0.002912972,0.003315428,0.002375266,0.002123802,0.002517418,0.003397272,0.00353351],"NYSE Arca":[0.1799778,0.1530225,0.1390412,0.131038,0.1196199,0.105742,0.1074679,0.1115833,0.1073326,0.09304159,0.09190951,0.08618862],"NYSE Chicago":[0.004294733,0.003916805,0.004019295,0.003377,0.004028267,0.004353622,0.004475207,0.005400293,0.004398395,0.004575037,0.005213556,0.004594182],"NYSE National":[0.01515979,0.0067369,0.006385692,0.005635292,0.003687354,0.00443541,0.001411458,5.160788e-008,9.235677e-005,1.3421e-005,0.004686542,0.0116567],"TRF":[0.298274,0.3409766,0.3397522,0.3028321,0.3292628,0.3643935,0.3632369,0.3545331,0.3676712,0.3756293,0.3633517,0.3708598]}`;
        const marketShareByYearExch = JSON.parse(jStrMarketShareByYearExch);

        // Customize the default theme
        const { themes: { defaultTheme } } = Spectacle;
        const theme = defaultTheme({
          primary: 'white',
          secondary: 'black',
          tertiary: 'blue',
          quaternary: 'black'
        });

        class BubbleChart extends Component {
          createChart() {
            this.chart = echarts.init(ReactDOM.findDOMNode(this));
            const options = this.makeChartOptions();
            this.chart.setOption(options);
          }

          makeChartOptions() {
            const data = [
                [[1516,68,1154605773,'China',1990],[29476,77.1,56943299,'France',1990],[31476,75.4,78958237,'Germany',1990],[1777,57.7,870601776,'India',1990],[29550,79.1,122249285,'Japan',1990],[12087,72,42972254,'South Korea',1990],[10088,70.8,38195258,'Poland',1990],[19349,69.6,147568552,'Russia',1990],[10670,67.3,53994605,'Turkey',1990],[37062,75.4,252847810,'United States',1990]],
                [[13334,76.9,1376048943,'China',2015],[37599,81.9,64395345,'France',2015],[44053,81.1,80688545,'Germany',2015],[5903,66.8,1311050527,'India',2015],[36162,83.5,126573481,'Japan',2015],[34644,80.7,50293439,'South Korea',2015],[24787,77.3,38611794,'Poland',2015],[23038,73.13,143456918,'Russia',2015],[19360,76.5,78665830,'Turkey',2015],[53354,79.1,321773631,'United States',2015]]
            ];
            return {
              title: {
                  text: 'Life Expectancy and GDP',
                  subtext: '1990 vs 2015',
                  left: 'center',
              },
              toolbox: {
                  feature: {
                      saveAsImage: {
                          show: true,
                          title: 'Save As Image',
                          type : 'png',
                          name: 'ECharts',
                      },
                      dataZoom: {
                          show: true,
                          yAxisIndex: 'none',
                          title: {
                              zoom: 'Area Zoom',
                              back: 'Restore Area Zoom'
                          }
                      },
                      restore: {
                          show: true,
                          title: 'Restore',
                      },
                  },
                  right: 60
              },
              legend: {
                  bottom: 10,
                  left: 'center',
                  data: ['1990', '2015']
              },
              xAxis: {
                  splitLine: {
                      lineStyle: {
                          type: 'dashed'
                      }
                  },
                  axisLabel: {
                      formatter: function (value, index) {
                          return value / 1000 + 'k';
                      },
                  },
                  name: 'GDP',
                  nameLocation: 'end',
                  nameGap: 5
              },
              yAxis: {
                  splitLine: {
                      lineStyle: {
                          type: 'dashed'
                      }
                  },
                  scale: true,
                  name: 'Life Expectancy',
                  nameLocation: 'middle',
                  nameGap: 20
              },
              series: [{
                  name: '1990',
                  data: data[0],
                  type: 'scatter',
                  symbolSize: function (data) {
                      return Math.sqrt(data[2]) / 4e2;
                  },
                  label: {
                      emphasis: {
                          show: true,
                          formatter: function (param) {
                              return param.data[3];
                          },
                          position: 'top'
                      }
                  },
                  itemStyle: {
                      normal: {
                          shadowBlur: 10,
                          shadowColor: 'rgba(120, 36, 50, 0.5)',
                          shadowOffsetY: 5,
                          color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                              offset: 0,
                              color: 'rgb(251, 118, 123)'
                          }, {
                              offset: 1,
                              color: 'rgb(204, 46, 72)'
                          }])
                      }
                  }
              }, {
                  name: '2015',
                  data: data[1],
                  type: 'scatter',
                  symbolSize: function (data) {
                      return Math.sqrt(data[2]) / 4e2;
                  },
                  label: {
                      emphasis: {
                          show: true,
                          formatter: function (param) {
                              return param.data[3];
                          },
                          position: 'top'
                      }
                  },
                  itemStyle: {
                      normal: {
                          shadowBlur: 10,
                          shadowColor: 'rgba(25, 100, 150, 0.5)',
                          shadowOffsetY: 5,
                          color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                              offset: 0,
                              color: 'rgb(129, 227, 238)'
                          }, {
                              offset: 1,
                              color: 'rgb(25, 183, 207)'
                          }])
                      }
                  }
              }]
            };
          }

          componentDidMount() {
            this.createChart();
            window.onresize = () => {
              this.chart.resize();
            };
          }

          componentWillUnmount() {
            this.chart.dispose();
          }

          render() {
            return <div style={{ height: "100%", width: "100%", minHeight: "600px" }} />;
          }
        }

        // --------------------------------------------------------------------
        // The presentation!
        // --------------------------------------------------------------------
        return (
          <Deck transition={["zoom", "slide"]} theme={theme} transitionDuration={500} contentWidth={"90%"} contentHeight={"100%"}>
            <SlideSet style={{ border: '1px solid red' }}>
            <Slide bgColor="primary">
              <Heading transition={["slide"]} size={1} caps lineHeight={1} textColor="secondary" margin="0px 0px 50px 0px">
                Year In Review
              </Heading>
              <Heading size={3} caps textColor="tertiary" margin="0px 0px 50px 0px">
                2019
              </Heading>
              <Text textSize="1.5em" margin="0px 0px 50px 0px" bold textColor="black">
                Presented by
              </Text>
              <Text textSize="1.0em" margin="0px 0px 30px 0px" bold textColor="blue">
                David Han
              </Text>
            </Slide>

            <Slide transition={["zoom", "fade"]} bgColor="primary">
              <Text textSize="1.0em" margin="0px 0px 30px 0px" bold textColor="black">
                Bubble Chart
              </Text>
              <Row gutter={16}>
                  <Col span={16}>
                    <BubbleChart />
                  </Col>
                  <Col span={8}>
                    <List>
                        <Appear><ListItem>Inline style based theme system</ListItem></Appear>
                        <Appear><ListItem>Inline style based theme system</ListItem></Appear>
                        <Appear><ListItem>Inline style based theme system</ListItem></Appear>
                        <Appear><ListItem>Inline style based theme system</ListItem></Appear>
                        <Appear><ListItem>Inline style based theme system</ListItem></Appear>
                        <Appear><ListItem>Inline style based theme system</ListItem></Appear>
                        <Appear><ListItem>Inline style based theme system</ListItem></Appear>
                      </List>
                  </Col>
                </Row>

            </Slide>

            <Slide transition={["fade"]} bgColor="primary">
              <Button type="primary">Primary</Button>
            </Slide>
            </SlideSet>
          </Deck>
        );
      }
    </script>
  </body>
</html>
